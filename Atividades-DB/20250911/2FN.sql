CREATE TABLE PEDIDOS(
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    CONSTRAINT PK_PEDIDO PRIMARY KEY (ID),
    NOME_CLIENTE VARCHAR(100) NOT NULL
);


CREATE TABLE PRODUTOS(
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    CONSTRAINT PK_PRODUTOS PRIMARY KEY (ID),
    NOME_PRODUTO VARCHAR(100)
);

CREATE TABLE PEDIDO_ITEM (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    PEDIDO_ID NUMBER NOT NULL REFERENCES PEDIDOS(ID),
    PRODUTO_ID NUMBER NOT NULL REFERENCES PRODUTOS (ID),
    QUANTIDADE NUMBER NOT NULL CHECK (QUANTIDADE > 0),
    CONSTRAINT FK_PEDIDO_PRODUTO UNIQUE (PEDIDO_ID, PRODUTO_ID)
);